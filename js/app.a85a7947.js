(function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)i=s[l],o[i]&&d.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a3aa8":"688e1589","chunk-2d0b6587":"9326c6d4","chunk-2d0be69d":"6d4fb27f","chunk-2d0c7b6a":"06f38606","chunk-2d0cec00":"37dacf87","chunk-2d0e5d51":"343e3e3e","chunk-2d0e6313":"9765c10d","chunk-2d207ea6":"033f815e","chunk-2d20916c":"53d677a2"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=o[e]=[t,a]});t.push(n[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e),r=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var u=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-permission/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var m=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a37":function(e,t,n){"use strict";var a=n("b266"),o=n.n(a);o.a},"2ac7":function(e,t,n){"use strict";var a=n("6d1e"),o=n.n(a);o.a},4656:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i=(n("5c0b"),n("2877")),s={},c=Object(i["a"])(s,o,r,!1,null,null,null),u=c.exports,l=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix",attrs:{id:"login_wrap"}},[n("h2",{staticClass:"title"},[e._v("随便搞个登录页")]),n("div",{attrs:{id:"login"}},[n("div",{staticClass:"login--account"},[n("span",[e._v("账号：")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.account,expression:"account",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"随便输",name:"account"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"login--password"},[n("span",[e._v("密码：")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"随便输",name:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("p",{staticClass:"login--btn"},[n("button",{attrs:{id:"loginBtn"},on:{click:e.login}},[e._v("登录")])])])])},d=[],p=(n("a481"),n("96cf"),n("3b8d")),f=n("795b"),h=n.n(f),v=n("bc3a"),b=n.n(v),g=n("2f62"),_={get userToken(){return localStorage.getItem("token")},set userToken(e){localStorage.setItem("token",e)},isSidebarNavCollapse:!1,crumbList:[]},k={},C={},w={LOGIN_IN:function(e,t){e.userToken=t},LOGIN_OUT:function(e){e.userToken=""},toggleNavCollapse:function(e){e.isSidebarNavCollapse=!e.isSidebarNavCollapse},setCrumbList:function(e,t){e.crumbList=t}},y=n("75fc");n("7514");function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.forEach(function(t,a){e.forEach(function(e,a){e.name===t.meta.name&&(e.children&&e.children.length>0&&(t.children=O(e.children,t.children)),n.push(t))})}),n}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach(function(e,t){e.children&&e.children.length>0&&(e.redirect={name:e.children[0].name},j(e.children))})}var E=function(){return n.e("chunk-2d0c7b6a").then(n.bind(null,"5290"))},N=function(){return n.e("chunk-2d20916c").then(n.bind(null,"a821"))},x=function(){return n.e("chunk-2d0a3aa8").then(n.bind(null,"02c3"))},S=function(){return n.e("chunk-2d207ea6").then(n.bind(null,"a320"))},T=function(){return n.e("chunk-2d0cec00").then(n.bind(null,"617f"))},M=function(){return n.e("chunk-2d0b6587").then(n.bind(null,"1d86"))},$=function(){return n.e("chunk-2d0e5d51").then(n.bind(null,"95ba"))},L=function(){return n.e("chunk-2d0be69d").then(n.bind(null,"2fc6"))},P=function(){return n.e("chunk-2d0e6313").then(n.bind(null,"9864"))},R=[{path:"/order",name:"order-manage",meta:{name:"订单管理",icon:"icon-email"},component:E,children:[{path:"list",name:"order-list",meta:{name:"订单列表",icon:"icon-quit"},component:N},{path:"product",name:"product-manage",meta:{name:"生产管理",icon:"icon-service"},component:x,children:[{path:"list",name:"product-list",meta:{name:"生产列表",icon:"icon-nav"},component:S},{path:"review",name:"review-manage",meta:{name:"审核管理",icon:"icon-finance-manage"},component:T}]},{path:"returnGoods",name:"return-goods",meta:{name:"退货管理",icon:"icon-product-manage"},component:M}]},{path:"/goods",name:"goods",meta:{name:"产品管理",icon:"icon-order-manage"},component:$,children:[{path:"list",name:"goods-list",meta:{name:"产品列表",icon:"icon-home"},component:L},{path:"classify",name:"goods-classify",meta:{name:"产品分类",icon:"icon-product-manage"},component:P}]}],I=R,U={namespaced:!0,state:{permissionList:null,sidebarMenu:[],currentMenu:""},getters:{},mutations:{SET_PERMISSION:function(e,t){e.permissionList=t},CLEAR_PERMISSION:function(e){e.permissionList=null},SET_MENU:function(e,t){e.sidebarMenu=t},SET_CURRENT_MENU:function(e,t){e.currentMenu=t}},actions:{fetchPermission:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var n,a,o,r,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,t.state,console.log("actions fetchPermission... "),e.next=4,B();case 4:a=e.sent,o=O(a,I),r=Ze.find(function(e){return""===e.path}),i=r.children,i.push.apply(i,Object(y["a"])(o)),n("SET_MENU",i),j([r]),s=Ye.options.routes,console.log("DynamicRoutes: ",Ze),Ye.addRoutes(Ze),n("SET_PERMISSION",[].concat(Object(y["a"])(s),Object(y["a"])(Ze)));case 15:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}};a["default"].use(g["a"]);var q=new g["a"].Store({state:_,getters:k,mutations:w,actions:C,modules:{permission:U}}),A=n("5c96"),G=n.n(A),H="/vue-permission/",D={},J=b.a.create({timeout:5e3,baseURL:H});J.interceptors.request.use(function(e){return q.state.userToken&&(e.headers.Authorization=q.state.userToken),e},function(e){return h.a.reject(e)}),J.interceptors.response.use(function(e){return e.data},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求出错";break;case 401:return A["Message"].warning({message:"授权失败，请重新登录"}),q.commit("LOGIN_OUT"),void setTimeout(function(){window.location.reload()},1e3);case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 500:e.message="服务器端出错";break}else e.message="连接服务器失败";return A["Message"].error({message:e.message}),h.a.reject(e.response)}),D.get=function(e,t){return new h.a(function(n,a){J.get(e,t).then(function(e){0===e.code?n(e.data):(A["Message"].error({message:e.message}),a(e.message))}).catch(function(e){console.log(e)})})},D.post=function(e,t,n){return new h.a(function(a,o){J.post(e,t,n).then(function(e){0===e.code?a(e.data):(A["Message"].error({message:e.message}),o(e.message))}).catch(function(e){console.log(e)})})};var z=D;function B(){return z.get("/mock/permission.json")}function F(){return z.get("/mock/login.json")}var K={data:function(){return{account:"",password:""}},methods:{login:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t=e.sent,n=t.token,this.$store.commit("LOGIN_IN",n),this.$router.replace("/"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()}},Q=K,V=(n("a9ca"),Object(i["a"])(Q,m,d,!1,null,"3b2c4101",null)),W=V.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{background:"#f0f2f5","margin-top":"-20px",height:"100%"}},[n("div",{staticClass:"wscn-http404"},[n("div",{staticClass:"pic-404"}),n("div",{staticClass:"bullshit"},[n("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),n("div",{staticClass:"bullshit__info"},[e._v("请检查您输入的网址是否正确")]),n("a",{staticClass:"bullshit__return-home",on:{click:e.backToHome}},[e._v("返回首页")])])])])},Y=[],Z={name:"page404",data:function(){return{}},methods:{backToHome:function(){this.$router.push("/")}},computed:{message:function(){return"找不到页面"}}},ee=Z,te=(n("1a37"),Object(i["a"])(ee,X,Y,!1,null,"81807280",null)),ne=te.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{background:"#f0f2f5","margin-top":"-20px",height:"100%"}},[n("div",{staticClass:"wscn-http404"},[n("div",{staticClass:"pic-404"}),n("div",{staticClass:"bullshit"},[n("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),n("div",{staticClass:"bullshit__info"},[e._v("对不起，你没有权限")]),n("a",{staticClass:"bullshit__return-home",on:{click:e.backToHome}},[e._v("返回首页")])])])])},oe=[],re={name:"page403",data:function(){return{}},methods:{backToHome:function(){this.$router.push("/")}},computed:{message:function(){return"对不起，你没有权限"}}},ie=re,se=(n("2ac7"),Object(i["a"])(ie,ae,oe,!1,null,"29f40ada",null)),ce=se.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout",class:{navCollapsed:e.isSidebarNavCollapse}},[n("SidebarNav",{staticClass:"sidebar"}),n("MainContent")],1)},le=[],me=n("cebc"),de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{attrs:{collapse:e.isSidebarNavCollapse,"background-color":"#304156","text-color":"#eee","active-text-color":"#4dbcff","default-active":e.currentMenu}},[n("DynamicMenu",{attrs:{menuList:e.sidebarMenu}})],1)},pe=[],fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-container"},[e._l(e.menuList,function(t){return[t.children&&t.children.length>0?n("el-submenu",{key:t.name,attrs:{index:t.name}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont",class:t.meta.icon}),n("span",[e._v(e._s(t.meta.name))])]),n("el-menu-item-group",[n("dynamic-menu",{attrs:{menuList:t.children}})],1)],2):n("el-menu-item",{key:t.name,attrs:{index:t.name},on:{click:function(n){return e.gotoRoute(t.name)}}},[n("i",{staticClass:"iconfont",class:t.meta.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.name))])])]})],2)},he=[],ve={name:"dynamic-menu",props:{menuList:{type:Array,default:function(){return[]}}},methods:{gotoRoute:function(e){this.$router.push({name:e})}}},be=ve,ge=Object(i["a"])(be,fe,he,!1,null,null,null),_e=ge.exports,ke={components:{DynamicMenu:_e},computed:Object(me["a"])({},Object(g["b"])(["isSidebarNavCollapse"]),Object(g["b"])("permission",["sidebarMenu","currentMenu"]))},Ce=ke,we=Object(i["a"])(Ce,de,pe,!1,null,null,null),ye=we.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("TopAside"),n("Content")],1)},je=[],Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"aside__top"},[n("span",{staticClass:"iconfont icon-nav toggleNavCollapse",class:{active:e.isSidebarNavCollapse},on:{click:e.toggleNavCollapse}}),n("div",{staticClass:"aside__top--right"},[n("div",{staticClass:"quit-system",on:{click:e.loginOut}},[n("span",{staticClass:"iconfont icon-quit"})])])])},Ne=[],xe={computed:Object(me["a"])({},Object(g["b"])(["isSidebarNavCollapse","crumbList"])),methods:{toggleNavCollapse:function(){this.$store.commit("toggleNavCollapse")},loginOut:function(){this.$store.commit("LOGIN_OUT"),window.location.reload()}}},Se=xe,Te=(n("e679"),Object(i["a"])(Se,Ee,Ne,!1,null,"36af56f1",null)),Me=Te.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view",{staticClass:"content"})},Le=[],Pe={},Re=Pe,Ie=Object(i["a"])(Re,$e,Le,!1,null,null,null),Ue=Ie.exports,qe={components:{TopAside:Me,Content:Ue}},Ae=qe,Ge=Object(i["a"])(Ae,Oe,je,!1,null,null,null),He=Ge.exports,De={components:{SidebarNav:ye,MainContent:He},computed:Object(me["a"])({},Object(g["b"])(["isSidebarNavCollapse"]))},Je=De,ze=Object(i["a"])(Je,ue,le,!1,null,null,null),Be=ze.exports,Fe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h3",[e._v("主页")])])}],Qe={},Ve=Qe,We=Object(i["a"])(Ve,Fe,Ke,!1,null,null,null),Xe=We.exports;a["default"].use(l["a"]);var Ye=new l["a"]({mode:"history",base:"/vue-permission/",routes:[{path:"/login",name:"login",component:W}]}),Ze=[{path:"",name:"container",redirect:"home",meta:{requiresAuth:!0,name:"首页"},component:Be,children:[{path:"home",name:"home",meta:{name:"首页",icon:"icon-home"},component:Xe}]},{path:"/403",name:"notauth",component:ce},{path:"*",name:"notfound",component:ne}];n("0fae"),n("b20f");a["default"].prototype.$http=z,a["default"].use(G.a),a["default"].config.productionTip=!1,Ye.beforeEach(function(e,t,n){q.state.userToken?q.state.permission.permissionList?"/login"!==e.path?n():n(t.fullPath):q.dispatch("permission/fetchPermission").then(function(){n({path:e.path})}):e.matched.length>0&&!e.matched.some(function(e){return e.meta&&e.meta.required})?n():n({path:"/login"})}),Ye.afterEach(function(e,t,n){var a=e.matched;console.info("routerList ======> ",a),q.commit("setCrumbList",a),q.commit("permission/SET_CURRENT_MENU",e.name)}),new a["default"]({router:Ye,store:q,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),o=n.n(a);o.a},"5e27":function(e,t,n){},"6d1e":function(e,t,n){},a9ca:function(e,t,n){"use strict";var a=n("4656"),o=n.n(a);o.a},b20f:function(e,t,n){},b266:function(e,t,n){},df54:function(e,t,n){},e679:function(e,t,n){"use strict";var a=n("df54"),o=n.n(a);o.a}});
//# sourceMappingURL=app.a85a7947.js.map